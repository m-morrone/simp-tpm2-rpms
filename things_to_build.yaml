---
simp-tpm2-tss:
  :type: :gitrepo
  :build: 'yes'
  :tag: 1.3.0
  :url: https://github.com/tpm2-software/tpm2-tss
  :extras:
    :post_dl:
    - 'rm -rf pagure-tpm-tss;:'
    - git clone -- https://src.fedoraproject.org/rpms/tpm2-tss.git pagure-tpm2-tss
    - cd pagure-tpm2-tss && git checkout 075fc2f0d3cc476d7ecc99483c1e28c2e0855535
    - cp -rv pagure-tpm2-tss/*.rules "%{SOURCES_DIR}/"
simp-tpm2-abrmd-selinux:
  :type: :gitrepo
  :build: 'yes'
  :tag: 1.2.0
  :url: https://github.com/tpm2-software/tpm2-abrmd
  :extras:
    # Should probably be a PATCH if we get stuck with tpm2-abrmd 1.2.0 for long
    :post_dl:
    - rm -f '%{SOURCES_DIR}/selinux/tabrmd.te'
    - cp -rv '%{PROJECT_DIR}/tabrmd.te' '%{DOWNLOAD_DIR}/selinux/'
simp-tpm2-abrmd:
  :type: :gitrepo
  :build: 'yes'
  :tag: 1.2.0
  :url: https://github.com/tpm2-software/tpm2-abrmd
simp-tpm2-tools:
  :type: :gitrepo
  :build: 'yes'
  :tag: 3.0.2
  :url: https://github.com/tpm2-software/tpm2-tools
#
# TPM2.0 simulator
#
# Build 974:
#   * Is what tpm2-tools 3.0.* is tested against
#   * TPM specification draft revision 142, with errata to revision 138.
# Build 1119 supports:
#   * Nuvoton TPM vendor-specific commands
#   * Support for OpenSSL 1.1.x
#   * The TPM starts powered up, so the initial power up command is not necessary.
#   * An update to TPM specification draft revision 146, which is avalable for
#     public review, including changes to TPM2_CreateLoaded and
#     TPM2_EncryptDecrypt.
#
# See: https://sourceforge.net/p/ibmswtpm2/wiki/Home/
#
simp-tpm2-simulator:
  :type: :targz
  :build: 'yes'
  :tag: '1119'
  :url: https://sourceforge.net/projects/ibmswtpm2/files/ibmtpm%{TAG}.tar.gz/download
